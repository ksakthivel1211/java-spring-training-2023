2023-10-10 11:02:42,194 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 60974 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 11:02:42,219 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 11:02:42,406 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 11:02:42,407 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 11:02:43,886 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 11:02:44,034 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 141 ms. Found 5 JPA repository interfaces.
2023-10-10 11:02:45,330 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 11:02:45,340 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 11:02:45,340 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 11:02:45,427 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 11:02:45,428 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3020 ms
2023-10-10 11:02:45,797 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 11:02:45,895 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 11:02:45,929 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 11:02:46,086 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 11:02:46,214 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 11:02:46,233 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 11:02:46,693 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b9261c8
2023-10-10 11:02:46,696 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 11:02:47,065 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 11:02:47,972 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 11:02:48,140 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 11:02:49,655 [restartedMain] WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-10-10 11:02:50,071 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63750fc2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21d6dacf, org.springframework.security.web.context.SecurityContextHolderFilter@3626d9d0, org.springframework.security.web.header.HeaderWriterFilter@4f56953b, org.springframework.web.filter.CorsFilter@4a592c9c, org.springframework.security.web.authentication.logout.LogoutFilter@61de767e, cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter@12124c5, cdw.springTraining.gatekeeper.config.JwtVisitorAuthFilter@2b3fff7a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@457bde58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26c7580c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d9fc82c, org.springframework.security.web.session.SessionManagementFilter@d2071dd, org.springframework.security.web.access.ExceptionTranslationFilter@1332ef33, org.springframework.security.web.access.intercept.AuthorizationFilter@158ae41c]
2023-10-10 11:02:50,363 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-10 11:02:50,390 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/gate-keeping'
2023-10-10 11:02:50,416 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Started GatekeeperApplication in 9.195 seconds (process running for 10.066)
2023-10-10 11:03:14,604 [http-nio-8080-exec-1] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-10 11:03:14,605 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-10 11:03:14,610 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2023-10-10 11:07:38,955 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 11:07:38,968 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 11:07:39,002 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-10 15:36:48,459 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 66244 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 15:36:48,473 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 15:36:48,629 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 15:36:48,630 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 15:36:49,976 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 15:36:50,122 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 139 ms. Found 5 JPA repository interfaces.
2023-10-10 15:36:51,389 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 15:36:51,400 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 15:36:51,400 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 15:36:51,477 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 15:36:51,478 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2847 ms
2023-10-10 15:36:51,756 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 15:36:51,865 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 15:36:51,896 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 15:36:52,055 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:36:52,199 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 15:36:52,222 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 15:36:52,701 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61eeb1d8
2023-10-10 15:36:52,704 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 15:36:53,059 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:36:54,050 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 15:36:54,230 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:36:55,176 [restartedMain] ERROR org.springframework.boot.web.embedded.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtVisitorAuthFilter': Unsatisfied dependency expressed through field 'jwtServiceImpl': Error creating bean with name 'jwtServiceImpl' defined in file [/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes/cdw/springTraining/gatekeeper/service/JwtServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'cdw.springTraining.gatekeeper.constant.TimeConstant' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2023-10-10 15:36:55,207 [restartedMain] INFO org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2023-10-10 15:36:55,213 [restartedMain] WARN org.apache.catalina.loader.WebappClassLoaderBase - The web application [gate-keeping] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1623)
2023-10-10 15:36:55,213 [restartedMain] WARN org.apache.catalina.loader.WebappClassLoaderBase - The web application [gate-keeping] appears to have started a thread named [HikariPool-1 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1758)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1623)
2023-10-10 15:36:55,216 [restartedMain] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2023-10-10 15:36:55,217 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:36:55,219 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 15:36:55,228 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-10 15:36:55,243 [restartedMain] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-10 15:36:55,277 [restartedMain] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in cdw.springTraining.gatekeeper.service.JwtServiceImpl required a bean of type 'cdw.springTraining.gatekeeper.constant.TimeConstant' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'cdw.springTraining.gatekeeper.constant.TimeConstant' in your configuration.

2023-10-10 15:37:36,517 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 66270 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 15:37:36,530 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 15:37:36,663 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 15:37:36,664 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 15:37:37,951 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 15:37:38,107 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 5 JPA repository interfaces.
2023-10-10 15:37:39,413 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 15:37:39,422 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 15:37:39,423 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 15:37:39,510 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 15:37:39,511 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2846 ms
2023-10-10 15:37:39,786 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 15:37:39,901 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 15:37:39,933 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 15:37:40,087 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:37:40,228 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 15:37:40,243 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 15:37:40,657 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61eeb1d8
2023-10-10 15:37:40,659 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 15:37:40,972 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:37:41,925 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 15:37:42,084 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:37:43,204 [restartedMain] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminController' defined in file [/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes/cdw/springTraining/gatekeeper/controller/AdminController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'adminServiceImpl' defined in file [/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes/cdw/springTraining/gatekeeper/service/AdminServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: No qualifying bean of type 'cdw.springTraining.gatekeeper.constant.ErrorConstants' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2023-10-10 15:37:43,206 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:37:43,209 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 15:37:43,218 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-10 15:37:43,222 [restartedMain] INFO org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2023-10-10 15:37:43,238 [restartedMain] INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-10-10 15:37:43,272 [restartedMain] ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 3 of constructor in cdw.springTraining.gatekeeper.service.AdminServiceImpl required a bean of type 'cdw.springTraining.gatekeeper.constant.ErrorConstants' that could not be found.


Action:

Consider defining a bean of type 'cdw.springTraining.gatekeeper.constant.ErrorConstants' in your configuration.

2023-10-10 15:39:31,085 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 66347 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 15:39:31,097 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 15:39:31,239 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 15:39:31,240 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 15:39:32,659 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 15:39:32,823 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 5 JPA repository interfaces.
2023-10-10 15:39:34,314 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 15:39:34,324 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 15:39:34,324 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 15:39:34,398 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 15:39:34,399 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3157 ms
2023-10-10 15:39:34,720 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 15:39:34,834 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 15:39:34,866 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 15:39:35,036 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:39:35,185 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 15:39:35,202 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 15:39:35,618 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ee44de4
2023-10-10 15:39:35,621 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 15:39:35,945 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:39:36,926 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 15:39:37,083 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:39:38,489 [restartedMain] WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-10-10 15:39:38,903 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23556127, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c5d7f01, org.springframework.security.web.context.SecurityContextHolderFilter@4ec60f6b, org.springframework.security.web.header.HeaderWriterFilter@7796f0e9, org.springframework.web.filter.CorsFilter@2741c091, org.springframework.security.web.authentication.logout.LogoutFilter@4e57113, cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter@1df3532e, cdw.springTraining.gatekeeper.config.JwtVisitorAuthFilter@85e71fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d13d307, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36a94ad9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c4087b1, org.springframework.security.web.session.SessionManagementFilter@4ddf4156, org.springframework.security.web.access.ExceptionTranslationFilter@5a5bdb3a, org.springframework.security.web.access.intercept.AuthorizationFilter@40b3b1eb]
2023-10-10 15:39:39,248 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-10 15:39:39,284 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/gate-keeping'
2023-10-10 15:39:39,311 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Started GatekeeperApplication in 8.86 seconds (process running for 9.591)
2023-10-10 15:40:37,111 [http-nio-8080-exec-2] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-10 15:40:37,112 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-10 15:40:37,116 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2023-10-10 15:40:37,354 [http-nio-8080-exec-2] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : AuthenticationController.authenticate(..)
Arguments : [Ljava.lang.Object;@69c0e965
Time : 1696932637344
2023-10-10 15:47:29,430 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:47:29,457 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 15:47:29,473 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-10 15:56:21,375 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 3454 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 15:56:21,388 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 15:56:21,518 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 15:56:21,519 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 15:56:22,934 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 15:56:23,090 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 148 ms. Found 5 JPA repository interfaces.
2023-10-10 15:56:24,404 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 15:56:24,415 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 15:56:24,415 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 15:56:24,501 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 15:56:24,502 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2981 ms
2023-10-10 15:56:24,829 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 15:56:24,942 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 15:56:24,974 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 15:56:25,134 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:56:25,262 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 15:56:25,275 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 15:56:25,767 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c51997a
2023-10-10 15:56:25,769 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 15:56:26,102 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 15:56:27,035 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 15:56:27,196 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 15:56:28,694 [restartedMain] WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-10-10 15:56:29,109 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f56953b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b19a095, org.springframework.security.web.context.SecurityContextHolderFilter@5403a13, org.springframework.security.web.header.HeaderWriterFilter@404e7f3c, org.springframework.web.filter.CorsFilter@5e0448a4, org.springframework.security.web.authentication.logout.LogoutFilter@1be2efd1, cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter@67a3d2ab, cdw.springTraining.gatekeeper.config.JwtVisitorAuthFilter@4213d874, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7afcdaa1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b2f081f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e6699cd, org.springframework.security.web.session.SessionManagementFilter@2091d423, org.springframework.security.web.access.ExceptionTranslationFilter@6746fae3, org.springframework.security.web.access.intercept.AuthorizationFilter@774e7bed]
2023-10-10 15:56:29,426 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-10 15:56:29,454 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/gate-keeping'
2023-10-10 15:56:29,470 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Started GatekeeperApplication in 8.681 seconds (process running for 9.393)
2023-10-10 15:57:10,855 [http-nio-8080-exec-1] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-10 15:57:10,856 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-10 15:57:10,863 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2023-10-10 15:57:11,046 [http-nio-8080-exec-1] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : AuthenticationController.authenticate(..)
Arguments : [Ljava.lang.Object;@36b00854
Time : 1696933631041
2023-10-10 15:58:52,488 [http-nio-8080-exec-4] WARN org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized token 'maaamathi': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')]
2023-10-10 15:59:22,814 [http-nio-8080-exec-6] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : ResidentController.bookVisitorSlot(..)
Arguments : [Ljava.lang.Object;@706ae8f2
Time : 1696933762814
2023-10-10 15:59:22,879 [http-nio-8080-exec-6] ERROR cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - only resident will be able to book visitor slot
2023-10-10 15:59:22,884 [http-nio-8080-exec-6] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/gate-keeping] threw exception
cdw.springTraining.gatekeeper.customException.GateKeepingCustomException: Request processing failed: java.lang.ClassCastException: class cdw.springTraining.gatekeeper.customException.GateKeepingCustomException cannot be cast to class org.springframework.http.ResponseEntity (cdw.springTraining.gatekeeper.customException.GateKeepingCustomException is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @2d3095a1; org.springframework.http.ResponseEntity is in unnamed module of loader 'app')
	at cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2023-10-10 15:59:46,794 [http-nio-8080-exec-7] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : ResidentController.bookVisitorSlot(..)
Arguments : [Ljava.lang.Object;@2233f6e6
Time : 1696933786794
2023-10-10 15:59:49,561 [http-nio-8080-exec-8] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : ResidentController.bookVisitorSlot(..)
Arguments : [Ljava.lang.Object;@2d1ea6a7
Time : 1696933789561
2023-10-10 15:59:49,577 [http-nio-8080-exec-8] WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 1062, SQLState: 23000
2023-10-10 15:59:49,578 [http-nio-8080-exec-8] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Duplicate entry 'maaamathi@gmail.com' for key 'visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl'
2023-10-10 15:59:49,591 [http-nio-8080-exec-8] ERROR cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - could not execute statement [Duplicate entry 'maaamathi@gmail.com' for key 'visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl'] [insert into visitor_slot (date,in_time,mail,out_time,status,user_id,visitor_name) values (?,?,?,?,?,?,?)]; SQL [insert into visitor_slot (date,in_time,mail,out_time,status,user_id,visitor_name) values (?,?,?,?,?,?,?)]; constraint [visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl]
2023-10-10 15:59:49,593 [http-nio-8080-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/gate-keeping] threw exception
cdw.springTraining.gatekeeper.customException.GateKeepingCustomException: Request processing failed: java.lang.ClassCastException: class cdw.springTraining.gatekeeper.customException.GateKeepingCustomException cannot be cast to class org.springframework.http.ResponseEntity (cdw.springTraining.gatekeeper.customException.GateKeepingCustomException is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @2d3095a1; org.springframework.http.ResponseEntity is in unnamed module of loader 'app')
	at cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2023-10-10 16:00:36,887 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 16:00:36,891 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 16:00:36,901 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-10 16:02:01,060 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 3589 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 16:02:01,075 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 16:02:01,203 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 16:02:01,204 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 16:02:02,571 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 16:02:02,745 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 167 ms. Found 5 JPA repository interfaces.
2023-10-10 16:02:04,084 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 16:02:04,094 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 16:02:04,094 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 16:02:04,177 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 16:02:04,178 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2974 ms
2023-10-10 16:02:04,483 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 16:02:04,607 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 16:02:04,647 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 16:02:04,803 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 16:02:04,924 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 16:02:04,941 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 16:02:05,374 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42aa40cb
2023-10-10 16:02:05,377 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 16:02:05,812 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 16:02:06,823 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 16:02:06,954 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 16:02:08,359 [restartedMain] WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-10-10 16:02:08,736 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b19a095, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e0448a4, org.springframework.security.web.context.SecurityContextHolderFilter@2bded654, org.springframework.security.web.header.HeaderWriterFilter@108f0434, org.springframework.web.filter.CorsFilter@1e6699cd, org.springframework.security.web.authentication.logout.LogoutFilter@a5d9d09, cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter@67a54962, cdw.springTraining.gatekeeper.config.JwtVisitorAuthFilter@6668b122, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e3fc78e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3beca343, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65622877, org.springframework.security.web.session.SessionManagementFilter@77a4daf4, org.springframework.security.web.access.ExceptionTranslationFilter@37a69da3, org.springframework.security.web.access.intercept.AuthorizationFilter@4e18a41a]
2023-10-10 16:02:09,024 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-10 16:02:09,053 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/gate-keeping'
2023-10-10 16:02:09,077 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Started GatekeeperApplication in 8.622 seconds (process running for 9.37)
2023-10-10 16:02:32,919 [http-nio-8080-exec-1] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-10 16:02:32,919 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-10 16:02:32,924 [http-nio-8080-exec-1] INFO org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2023-10-10 16:02:33,487 [http-nio-8080-exec-1] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : ResidentController.bookVisitorSlot(..)
Arguments : [Ljava.lang.Object;@682baba0
Time : 1696933953450
2023-10-10 16:02:33,738 [http-nio-8080-exec-1] WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 1062, SQLState: 23000
2023-10-10 16:02:33,739 [http-nio-8080-exec-1] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Duplicate entry 'maaamathi@gmail.com' for key 'visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl'
2023-10-10 16:02:33,749 [http-nio-8080-exec-1] ERROR cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - could not execute statement [Duplicate entry 'maaamathi@gmail.com' for key 'visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl'] [insert into visitor_slot (date,in_time,mail,out_time,status,user_id,visitor_name) values (?,?,?,?,?,?,?)]; SQL [insert into visitor_slot (date,in_time,mail,out_time,status,user_id,visitor_name) values (?,?,?,?,?,?,?)]; constraint [visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl]
2023-10-10 16:02:33,766 [http-nio-8080-exec-1] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/gate-keeping] threw exception
cdw.springTraining.gatekeeper.customException.GateKeepingCustomException: Request processing failed: java.lang.ClassCastException: class cdw.springTraining.gatekeeper.customException.GateKeepingCustomException cannot be cast to class org.springframework.http.ResponseEntity (cdw.springTraining.gatekeeper.customException.GateKeepingCustomException is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @2d3095a1; org.springframework.http.ResponseEntity is in unnamed module of loader 'app')
	at cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2023-10-10 16:03:52,559 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 16:03:52,565 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 16:03:52,574 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2023-10-10 16:05:26,387 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Starting GatekeeperApplication using Java 20.0.1 with PID 3674 (/Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper/target/classes started by sakthivel in /Users/sakthivel/Documents/GitHub/java-spring-training-2023/gatekeeper)
2023-10-10 16:05:26,400 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - No active profile set, falling back to 1 default profile: "default"
2023-10-10 16:05:26,541 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-10 16:05:26,542 [restartedMain] INFO org.springframework.boot.devtools.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-10 16:05:27,834 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-10-10 16:05:27,977 [restartedMain] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 5 JPA repository interfaces.
2023-10-10 16:05:29,252 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2023-10-10 16:05:29,259 [restartedMain] INFO org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-10-10 16:05:29,260 [restartedMain] INFO org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.13]
2023-10-10 16:05:29,341 [restartedMain] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring embedded WebApplicationContext
2023-10-10 16:05:29,343 [restartedMain] INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2800 ms
2023-10-10 16:05:29,639 [restartedMain] INFO org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-10-10 16:05:29,731 [restartedMain] INFO org.hibernate.Version - HHH000412: Hibernate ORM core version 6.2.9.Final
2023-10-10 16:05:29,762 [restartedMain] INFO org.hibernate.cfg.Environment - HHH000406: Using bytecode reflection optimizer
2023-10-10 16:05:29,918 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 16:05:30,045 [restartedMain] INFO org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-10-10 16:05:30,060 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2023-10-10 16:05:30,447 [restartedMain] INFO com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ee44de4
2023-10-10 16:05:30,449 [restartedMain] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2023-10-10 16:05:30,740 [restartedMain] INFO org.hibernate.bytecode.internal.BytecodeProviderInitiator - HHH000021: Bytecode provider name : bytebuddy
2023-10-10 16:05:31,675 [restartedMain] INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-10-10 16:05:31,806 [restartedMain] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 16:05:33,100 [restartedMain] WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-10-10 16:05:33,481 [restartedMain] INFO org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c4087b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74948d47, org.springframework.security.web.context.SecurityContextHolderFilter@23bee9e5, org.springframework.security.web.header.HeaderWriterFilter@61666968, org.springframework.web.filter.CorsFilter@13d641a3, org.springframework.security.web.authentication.logout.LogoutFilter@7f082aea, cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter@4dced7b4, cdw.springTraining.gatekeeper.config.JwtVisitorAuthFilter@da70206, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5113a97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5bb00a5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a3a4e00, org.springframework.security.web.session.SessionManagementFilter@4ec60f6b, org.springframework.security.web.access.ExceptionTranslationFilter@7796f0e9, org.springframework.security.web.access.intercept.AuthorizationFilter@17ed628e]
2023-10-10 16:05:33,771 [restartedMain] INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-10-10 16:05:33,800 [restartedMain] INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/gate-keeping'
2023-10-10 16:05:33,814 [restartedMain] INFO cdw.springTraining.gatekeeper.GatekeeperApplication - Started GatekeeperApplication in 8.013 seconds (process running for 8.677)
2023-10-10 16:05:55,848 [http-nio-8080-exec-2] INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-10 16:05:55,848 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-10-10 16:05:55,851 [http-nio-8080-exec-2] INFO org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-10-10 16:05:56,250 [http-nio-8080-exec-2] INFO cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - 
Method : ResidentController.bookVisitorSlot(..)
Arguments : [Ljava.lang.Object;@47b4c24f
Time : 1696934156244
2023-10-10 16:05:56,354 [http-nio-8080-exec-2] WARN org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 1062, SQLState: 23000
2023-10-10 16:05:56,355 [http-nio-8080-exec-2] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Duplicate entry 'maaamathi@gmail.com' for key 'visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl'
2023-10-10 16:05:56,364 [http-nio-8080-exec-2] ERROR cdw.springTraining.gatekeeper.aspect.GateKeeperLoggingAspect - could not execute statement [Duplicate entry 'maaamathi@gmail.com' for key 'visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl'] [insert into visitor_slot (date,in_time,mail,out_time,status,user_id,visitor_name) values (?,?,?,?,?,?,?)]; SQL [insert into visitor_slot (date,in_time,mail,out_time,status,user_id,visitor_name) values (?,?,?,?,?,?,?)]; constraint [visitor_slot.UK_avpuo7f7hr3o6s3nltdgbgywl]
2023-10-10 16:05:56,372 [http-nio-8080-exec-2] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/gate-keeping].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/gate-keeping] threw exception
cdw.springTraining.gatekeeper.customException.GateKeepingCustomException: Request processing failed: java.lang.ClassCastException: class cdw.springTraining.gatekeeper.customException.GateKeepingCustomException cannot be cast to class org.springframework.http.ResponseEntity (cdw.springTraining.gatekeeper.customException.GateKeepingCustomException is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @6884f309; org.springframework.http.ResponseEntity is in unnamed module of loader 'app')
	at cdw.springTraining.gatekeeper.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2023-10-10 16:09:31,092 [HikariPool-1 housekeeper] WARN com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m508ms).
2023-10-10 16:15:55,397 [SpringApplicationShutdownHook] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-10-10 16:15:55,404 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2023-10-10 16:15:55,416 [SpringApplicationShutdownHook] INFO com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
